{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","factory","getInitialBoard","isTie","board","turnIndex","isUnderCheck","canCastleKing","canCastleQueen","enpassantPosition","curPlayer","i","j","charAt","curPiece","curPos","row","col","canKingMoveAnywhere","canQueenMoveAnywhere","canRookMoveAnywhere","canBishopMoveAnywhere","canKnightMoveAnywhere","canPawnMoveAnywhere","getWinner","kingsPosition","findKingsPosition","getOpponent","createMove","deltaFrom","deltaTo","turnIndexBeforeMove","console","log","toJson","destination","Error","boardAfterMove","copy","isUnderCheckAfterMove","canCastleKingAfterMove","canCastleQueenAfterMove","enpassantPositionAfterMove","piece","turn","isCastlingKing","isCastlingQueen","canKingMove","canQueenMove","canRookMove","canBishopMove","canKnightMove","canPawnMove","Math","abs","turnIndexAfterMove","isUnderCheckByPositions","firstOperation","winner","endMatch","endMatchScores","setTurn","set","key","value","fromRow","fromCol","toCol","caslingRow","isPositionUnderAttack","toRow","endPiece","opponent","moveAndCheck","startPos","getKingPossibleMoves","length","destinations","push","position","attPositions","opponentPiece","kingPiece","getQueenPossibleMoves","getRookPossibleMoves","concat","getBishopPossibleMoves","toPos","endPos1","endPos2","endPos3","endPos4","cell","getKnightPossibleMoves","getPawnPossibleMoves","endRow","endPos","isMoveOk","params","move","stateBeforeMove","expectedMove","equals","e","getPossibleMoves","possibleMoves","controller","$scope","$log","$timeout","gameService","gameLogic","resizeGameAreaService","sendComputerMove","makeMove","info","updateUI","stateAfterMove","undefined","isYourTurn","yourPlayerIndex","playersInfo","playerId","rotate","playMode","selectedCells","isValidToCell","getPieceKind","isLight","isEvenRow","isEvenCol","setWidthToHeight","convertDeltaToUIIndex","cellClicked","window","location","search","isSelected","shouldShowImage","getImageSrc","getBackgroundSrc","canSelect","isBlackPiece","isWhitePiece","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers"],"mappings":"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"}