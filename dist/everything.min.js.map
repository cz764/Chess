{"version":3,"file":"everything.min.js","sources":["everything.js"],"names":["angular","module","factory","getInitialBoard","isTie","board","turnIndex","isUnderCheck","canCastleKing","canCastleQueen","enpassantPosition","curPlayer","getTurn","i","j","charAt","curPiece","curPos","row","col","canKingMoveAnywhere","canQueenMoveAnywhere","canRookMoveAnywhere","canBishopMoveAnywhere","canKnightMoveAnywhere","canPawnMoveAnywhere","getWinner","kingsPosition","findKingsPosition","getOpponent","createMove","deltaFrom","deltaTo","turnIndexBeforeMove","console","log","toJson","destination","Error","boardAfterMove","copy","isUnderCheckAfterMove","canCastleKingAfterMove","canCastleQueenAfterMove","enpassantPositionAfterMove","piece","turn","isCastlingKing","isCastlingQueen","canKingMove","canQueenMove","canRookMove","canBishopMove","canKnightMove","canPawnMove","Math","abs","turnIndexAfterMove","isUnderCheckByPositions","firstOperation","winner","endMatch","endMatchScores","setTurn","set","key","value","fromRow","fromCol","toCol","caslingRow","isPositionUnderAttack","toRow","endPiece","opponent","moveAndCheck","startPos","getKingPossibleMoves","length","destinations","push","position","attPositions","opponentPiece","kingPiece","getQueenPossibleMoves","getRookPossibleMoves","concat","getBishopPossibleMoves","toPos","endPos1","endPos2","endPos3","endPos4","cell","getKnightPossibleMoves","getPawnPossibleMoves","endRow","endPos","isMoveOk","params","move","stateBeforeMove","expectedMove","equals","e","getPossibleMoves","possibleMoves","realPossibleMoves","a","controller","$scope","$rootScope","$log","$timeout","gameService","stateService","gameLogic","aiService","resizeGameAreaService","sendComputerMove","startingState","makeMove","createComputerMove","millisecondsLimit","updateUI","stateAfterMove","undefined","isYourTurn","yourPlayerIndex","playersInfo","playerId","rotate","playMode","selectedCells","handleDragEvent","type","clientX","clientY","x","gameArea","offsetLeft","y","offsetTop","clientWidth","clientHeight","draggingPiece","size","getSquareWidthHeight","setDraggingPieceTopLeft","top","height","left","width","floor","colsNum","rowsNum","r_row","r_col","draggingStartedRowCol","document","getElementById","getPieceKindInId","style","nextZIndex","draggingPieceAvailableMoves","getDraggingPieceAvailableMoves","setAttribute","from","to","dragDone","getSquareTopLeft","getSquareCenterXY","topLeft","originalSize","$apply","msg","info","window","location","search","shouldPromote","showPromotionModal","modalName","promoteTo","index","cellInPossibleMoves","availableMoves","availablePos","getPieceKind","isLight","isEvenRow","isEvenCol","myPawn","isPromotionModalShowing","getIntegersTill","number","res","setWidthToHeight","e2e_test_stateService","isSelected","shouldShowImage","getImageSrc","getBackgroundSrc","getBackgroundFill","isLightSquare","canSelect","isBlackPiece","isWhitePiece","isModalShown","updatePromoteTo","radioPromotions","getElementsByName","checked","alert","rows","cols","player","setGame","gameDeveloperEmail","minNumberOfPlayers","maxNumberOfPlayers","alphaBetaService","playerIndex","alphaBetaLimits","alphaBetaDecision","getNextStates","getStateScoreForIndex0","getDebugStateToString","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","possibleDeltas","deltaFromAndTos","deltaTos","JSON","stringify","join"],"mappings":"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"}